import{c as D}from"./chunk-6WATRK3W.js";import{a as E}from"./chunk-EU6AGKIF.js";import{a as O}from"./chunk-GMHWHNVB.js";import{$a as d,Ia as u,Na as k,Pb as S,Qb as T,Ra as r,Sb as C,Ub as P,Ya as a,Za as l,_a as c,a as x,db as p,eb as m,g as _,ib as s,qb as I,rb as h,sb as b,ta as w,ua as j,ub as v,vb as y,xa as o}from"./chunk-ILPK3Q77.js";import"./chunk-H4HRTHOW.js";import"./chunk-ODN5LVDJ.js";function A(t,i){if(t&1&&(l(0,"div",12),d(1,"img",13),c()),t&2){let e=s(3);o(),a("src",e.headerImage.imageUrl,j)}}function V(t,i){if(t&1&&(p(0),d(1,"span",14),m()),t&2){let e=i.$implicit,n=s(2).$implicit,f=s(3);o(),a("innerHTML",f.renderSpan(e,n),w)}}function M(t,i){if(t&1&&(l(0,"p"),r(1,V,2,1,"ng-container",8),c()),t&2){let e=s().$implicit;o(),a("ngForOf",e.children)}}function z(t,i){if(t&1&&(p(0),r(1,M,2,1,"p",0),m()),t&2){let e=i.$implicit;o(),a("ngIf",e._type==="block")}}function $(t,i){if(t&1&&(p(0),l(1,"span"),h(2),c(),m()),t&2){let e=i.$implicit;o(2),b(e)}}function N(t,i){if(t&1&&(p(0),d(1,"grid-item",16),m()),t&2){let e=i.$implicit;o(),a("image",e)("showDefault",!0)("showPublishDate",!1)}}function G(t,i){if(t&1&&(l(0,"div",15),r(1,N,2,3,"ng-container",8),c()),t&2){let e=s(3);o(),a("ngForOf",e.projectImages)}}function B(t,i){if(t&1&&(l(0,"div",3),r(1,A,2,1,"div",4),l(2,"div",5)(3,"div",6)(4,"h3"),h(5),c()(),l(6,"div",7),r(7,z,2,1,"ng-container",8),c(),d(8,"div",9),l(9,"div",10),r(10,$,3,1,"ng-container",8),c()(),r(11,G,2,1,"div",11),c()),t&2){let e=s(2);o(),a("ngIf",e.headerImage),o(),I("fade-in",e.isAnimating),o(3),b(e.project.title),o(2),a("ngForOf",e.project==null?null:e.project.description),o(3),a("ngForOf",e.project==null?null:e.project.tags),o(),a("ngIf",e.projectImages&&e.projectImages.length>0)}}function Y(t,i){if(t&1&&(p(0),l(1,"div",1),r(2,B,12,7,"div",2),v(3,"async"),c(),m()),t&2){let e=s();o(2),a("ngIf",!y(3,1,e.loading$))}}function H(t,i){t&1&&(p(0),d(1,"img",17),m())}var R=class t{constructor(i,e){this.activatedRoute=i;this.sanityService=e}projectTitle=null;project=null;headerImage=null;projectImages=[];notFound=!1;tagsAppended=!1;isAnimating=!1;loading=new _(!1);loading$=this.loading.asObservable();subscribers=new x;ngAfterViewInit(){}ngOnInit(){this.load(),this.subscribers.add(this.activatedRoute.paramMap.subscribe(()=>{this.load()})),this.subscribers.add(this.loading$.subscribe(i=>{!i&&this.project&&this.setColorScheme(this.project.bgColor,this.project.textColor,this.project.accentColor)}))}load(){this.loading.next(!0),this.isAnimating=!1;let i=this.getProjectIdFromRoute();this.projectTitle=i?this.formatTitleFromId(i):null,this.projectTitle&&this.sanityService.getProjectByTitle(this.projectTitle).subscribe(e=>{if(!e){this.loading.next(!1),this.notFound=!0;return}this.project=e,setTimeout(()=>{this.isAnimating=!0},50),this.headerImage=e.headerImage,e&&e.images&&(this.projectImages=e.images),this.loading.next(!1)})}getProjectIdFromRoute(){return this.activatedRoute.snapshot.paramMap.get("projectId")}formatTitleFromId(i){return i.replace(/-/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}setColorScheme(i,e,n){document.body.style.setProperty("--project-bg",i||"#ffffff"),document.body.style.setProperty("--project-text",e||"#000000"),document.body.style.setProperty("--project-accent",n||"#000000"),document.body.style.setProperty("--bg-color",n||"#000000")}renderSpan(i,e){let n=i.text;return i.marks&&i.marks.length>0&&i.marks.forEach(f=>{let g=e.markDefs.find(F=>F._key===f);if(g)switch(g._type){case"link":n=`<a href="${g.href}" class="project-link" target="_blank" rel="noopener noreferrer">${n}</a>`;break}else switch(f){case"strong":n=`<strong>${n}</strong>`;break;case"em":n=`<em>${n}</em>`;break}}),n}static \u0275fac=function(e){return new(e||t)(u(D),u(O))};static \u0275cmp=k({type:t,selectors:[["app-project-view"]],decls:3,vars:4,consts:[[4,"ngIf"],[1,"project-column"],["class","text-pane",4,"ngIf"],[1,"text-pane"],["class","image-header",4,"ngIf"],[1,"text-container"],[1,"text-heading"],[1,"text-body"],[4,"ngFor","ngForOf"],[1,"line"],[1,"meta"],["class","image-container",4,"ngIf"],[1,"image-header"],["alt","",3,"src"],[3,"innerHTML"],[1,"image-container"],[3,"image","showDefault","showPublishDate"],["src","images/fly_1.gif","alt","not found",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)"]],template:function(e,n){e&1&&(r(0,Y,4,3,"ng-container",0)(1,H,2,0,"ng-container",0),v(2,"async")),e&2&&(a("ngIf",n.project),o(),a("ngIf",!y(2,2,n.loading$)&&n.notFound))},dependencies:[P,S,T,E,C],styles:[`@font-face{font-family:Ronzino;src:url("./media/Ronzino-Regular-ME2GZO5T.otf") format("opentype");font-weight:400;font-style:normal}@font-face{font-family:ITC Avant Garde;src:url("./media/ITCAvantGardeStd-Md-UYAUUM6K.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Sinistre Dark;src:url("./media/Sinistre-Dark-2PMDKLG6.otf") format("opentype");font-weight:400;font-style:normal}@font-face{font-family:Necto Mono;src:url("./media/NectoMono-Regular-XKGTYPEF.otf") format("opentype");font-weight:400;font-style:normal}@font-face{font-family:Karrik Regular;src:url("./media/Karrik-Regular-FP5FJWRS.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Coconat Regular;src:url("./media/Coconat-Regular-ZJSD55EB.otf") format("opentype");font-weight:400;font-style:normal}@font-face{font-family:Nimbus Sans Regular;src:url("./media/NimbusSanL-Reg-EGQ5GAYN.otf") format("opentype");font-weight:400;font-style:normal}.loader{width:48px;height:48px;border:6px solid var(--fg-color, white);border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite,fadeIn .3s ease forwards;position:absolute;z-index:10000;top:50%;left:50%;margin:-24px 0 0 -24px;opacity:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}nav{border-right:1px dashed var(--fg-color, white);background-color:var(--bg-color, black);flex:.1;height:100vh;font-family:monospace;position:sticky;min-width:192px;color:var(--fg-color, white);top:0;left:0}nav .nav-links{margin-top:1rem;margin-left:.5rem}.nav-top{display:flex;flex-direction:row;font-size:10pt}.nav-top .nav-top-l{flex:1;padding:.5rem}.nav-top .nav-top-r{flex:0;padding:.5rem}.nav-top .nav-top-r i{vertical-align:bottom}.nav-top .nav-top-r i.expanded{transform:rotate(180deg)}main{flex:1}html,body{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#000;transition:background-color .3s ease;cursor:none!important;font-family:ITC Avant Garde,sans-serif;overscroll-behavior-y:none}*{scrollbar-width:none;-ms-overflow-style:none}*::-webkit-scrollbar{display:none}.blog-video{width:100%;height:auto;margin:auto;display:block;box-shadow:0 0 1rem #0000001a}.blog-video video{width:100%;height:auto;display:block}nav-bar{position:fixed;top:0;left:0;z-index:1000}.blog-grid{display:grid;grid-template-columns:repeat(1,1fr);gap:.5rem;height:fit-content;flex:1}.arrow-down{height:2rem;width:auto;position:fixed;bottom:2rem;left:50%;transform:translate(-50%);z-index:2;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;opacity:0;transition:opacity .3s ease}.arrow-down.show{opacity:1}.gradient{position:fixed;bottom:0;left:0;width:100%;height:5rem;background:linear-gradient(to top,color-mix(in srgb,black,transparent 50%),color-mix(in srgb,black,transparent 100%));pointer-events:none;opacity:0;transition:opacity 1s ease;z-index:1}.gradient.show{opacity:1}@media screen and (max-width: 768px){.grid-container{width:100%}}::selection{background-color:var(--project-accent, black);color:var(--project-bg, white)}.text-container{opacity:0;padding-bottom:3rem}.project-column{display:flex;flex-direction:row;width:100%;margin:auto;font-family:Necto Mono,monospace;justify-content:center;background-color:var(--project-bg, white)}.project-column .content-pane{background-color:#000;flex:.5;overflow-y:scroll;min-height:fit-content}.project-column .content-pane img{width:100%;height:auto;display:block}.project-column .content-pane grid-item{display:block;width:100%}.project-column .text-pane{flex:.5;top:0;left:0;color:var(--project-text, black);font-size:16px}.project-column .text-pane .text-heading{font-family:Coconat Regular,monospace;color:var(--project-accent, black)}.project-column .text-pane .text-heading h3{margin:1rem 0;font-size:42px}.project-column .text-pane .text-body{line-height:1.5}.project-column .text-pane .text-body p:first-child{margin-top:0}.line{border-bottom:1px var(--project-text, black) dashed;width:100%;margin:2rem 0}.fade-in{animation:fadeIn .5s ease forwards;animation-delay:.5s}.meta{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;font-size:9pt;margin:.5rem 0rem;color:var(--project-text, black)}.meta span{white-space:nowrap;font-family:Coconat Regular,monospace;padding:.2rem .5rem}.meta span:not(:first-child):before{content:"+";display:inline-block;margin-right:1rem}span:has(.project-link){padding:.5rem 0;margin-top:1rem;width:100%;display:block}.image-container{display:flex;flex-direction:column;row-gap:.5rem;padding:.5rem}.image-header{display:flex;align-items:center;justify-content:center;aspect-ratio:16/9;overflow:hidden;animation:headerFadeIn .5s ease forwards}.image-header>img{width:100%;-webkit-user-select:none;user-select:none;pointer-events:none;display:block}.project-link{all:unset;display:inline-block;box-sizing:border-box;line-height:1.2;font-family:Necto Mono,monospace;text-decoration:underline;color:var(--project-text, black);transition:color .1s ease,background-color .1s ease}.project-link:hover{background-color:var(--project-text, black);color:var(--project-bg, white)}@media screen and (max-width: 768px){.project-column{flex-direction:column}.text-pane{min-height:75vh}.content-pane,.text-pane{flex:1;height:auto;position:relative!important}.text-container{padding:2rem;padding-top:0}}@keyframes headerFadeIn{0%{opacity:0;transform:translateY(-2rem)}to{opacity:1;transform:translateY(0)}}@keyframes fadeIn{0%{opacity:0;transform:translateY(1rem)}to{opacity:1;transform:translateY(0)}}
`],encapsulation:2})};export{R as ProjectView};
