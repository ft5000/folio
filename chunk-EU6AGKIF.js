import{a as Q}from"./chunk-GMHWHNVB.js";import{$ as w,$a as l,Ia as I,Na as v,Ob as S,Qb as y,Ra as m,Tb as R,Ub as b,Ya as o,Za as d,_ as C,_a as c,gb as T,hb as E,ib as s,la as P,lb as D,mb as g,nb as p,ob as f,pb as V,qb as k,rb as M,sb as O,tb as x,ua as h,wb as G,xa as a}from"./chunk-ILPK3Q77.js";var F=["videoElement"],H=["wrapper"];function q(t,n){if(t&1&&l(0,"img",6),t&2){let e=s();k("hide",e.hideThumbnail),o("src",e.thumbnailUrl,h)}}function K(t,n){t&1&&l(0,"span",7)}function Y(t,n){t&1&&l(0,"video",8,1),t&2&&o("muted",!0)("loop",!0)}var _=class t{constructor(n){this.sanityService=n}videoElement;wrapper;thumbnailDto=null;data=null;hideThumbnail=!1;loading=!1;observer;ngAfterViewInit(){if(this.wrapper?.nativeElement)if(this.thumbnailDto){let n=this.wrapper.nativeElement.querySelector("img");n&&(n.complete&&n.naturalHeight>0?this.setupObserver():n.addEventListener("load",()=>{this.setupObserver()},{once:!0}))}else this.setupObserver()}ngOnDestroy(){this.observer?.disconnect()}setupObserver(){this.observer=new IntersectionObserver(n=>{n.forEach(e=>{e.isIntersecting?!this.data&&this.thumbnailDto&&!this.loading?this.loadVideo():this.videoElement?.nativeElement&&this.videoElement.nativeElement.paused&&this.videoElement.nativeElement.play().catch(i=>console.warn("Autoplay blocked:",i)):this.videoElement?.nativeElement&&!this.videoElement.nativeElement.paused&&this.videoElement.nativeElement.pause()})},{threshold:.5}),this.observer.observe(this.wrapper.nativeElement)}get hasThumbnail(){return!!this.thumbnailDto}get thumbnailUrl(){return this.thumbnailDto?.thumbnailUrl||""}loadVideo(){this.loading=!0,this.sanityService.getVideoById(this.thumbnailDto._id).subscribe({next:n=>{this.data=n,setTimeout(()=>{if(this.videoElement?.nativeElement){let e=this.videoElement.nativeElement;e.src=n.videoUrl,e.load(),e.addEventListener("loadeddata",()=>{this.loading=!1,this.hideThumbnail=!0,e.play().catch(i=>console.warn("Autoplay blocked:",i))},{once:!0})}},0)},error:n=>{console.error("Video load failed:",n),this.loading=!1}})}static \u0275fac=function(e){return new(e||t)(I(Q))};static \u0275cmp=v({type:t,selectors:[["video-container"]],viewQuery:function(e,i){if(e&1&&(g(F,5),g(H,5,P)),e&2){let r;p(r=f())&&(i.videoElement=r.first),p(r=f())&&(i.wrapper=r.first)}},inputs:{thumbnailDto:"thumbnailDto",data:"data"},decls:5,vars:3,consts:[["wrapper",""],["videoElement",""],[1,"video-wrapper"],["class","thumbnail",3,"src","hide",4,"ngIf"],["class","loader",4,"ngIf"],["playsinline","","class","video",3,"muted","loop",4,"ngIf"],[1,"thumbnail",3,"src"],[1,"loader"],["playsinline","",1,"video",3,"muted","loop"]],template:function(e,i){e&1&&(d(0,"div",2,0),m(2,q,1,3,"img",3)(3,K,1,0,"span",4)(4,Y,2,2,"video",5),c()),e&2&&(a(2),o("ngIf",i.hasThumbnail),a(),o("ngIf",i.loading),a(),o("ngIf",i.data))},dependencies:[b,y],styles:[".video-wrapper[_ngcontent-%COMP%]{width:100%;height:auto;position:relative}.video-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;position:relative;transition:opacity .3s ease;box-shadow:0 0 .5rem #00000040}.video-wrapper[_ngcontent-%COMP%]   img.hide[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:auto;display:block;position:absolute;top:0;left:0;box-shadow:0 0 .5rem #00000040}.video-wrapper[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{width:48px;height:48px;border:6px solid white;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite;position:absolute;z-index:10000;top:50%;left:50%;margin:-24px 0 0 -24px}@keyframes _ngcontent-%COMP%_rotation{0%{transform:translateZ(0) rotate(0)}to{transform:translateZ(0) rotate(360deg)}}"]})};var B=["content"],Z=["gridItem"],z=t=>({show:t});function J(t,n){if(t&1&&l(0,"img",8),t&2){let e=s();o("src",e.image.imageUrl,h)("alt",e.image.alt)}}function j(t,n){if(t&1&&l(0,"video-container",9),t&2){let e=s();o("thumbnailDto",e.videoThumbnail)}}function W(t,n){if(t&1&&l(0,"video-container",11),t&2){let e=s(2);o("data",e.video)}}function X(t,n){if(t&1&&m(0,W,1,1,"video-container",10),t&2){let e=s();o("ngIf",e.video)}}function $(t,n){if(t&1&&(d(0,"p"),M(1),c()),t&2){let e=s();a(),O(e.title)}}function ee(t,n){if(t&1&&(d(0,"p"),M(1),c()),t&2){let e=s();a(),O(e.publishedDate)}}var N=class t{gridItemElement;image=null;video=null;videoThumbnail=null;showDefault=!1;showTitle=!0;showPublishDate=!0;hovered=!1;datePipe=new R("en-US");content;setHovered(n){this.hovered=n}get title(){switch(this.gridItemType){case"image":return this.image.alt;case"video":return this.videoThumbnail?this.videoThumbnail.title:this.video?this.video.title:"";default:return""}}get gridItemType(){return this.image?"image":this.video||this.videoThumbnail?"video":""}get publishedDate(){switch(this.gridItemType){case"image":return this.datePipe.transform(this.image.publishedAt,"yyyy-MM-dd")||"";case"video":return this.videoThumbnail?this.datePipe.transform(this.videoThumbnail.publishedAt,"yyyy-MM-dd")||"":this.video&&this.datePipe.transform(this.video.publishedAt,"yyyy-MM-dd")||"";default:return""}}get show(){return this.gridItemElement.nativeElement.classList.contains("show")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["grid-item"]],contentQueries:function(e,i,r){if(e&1&&D(r,B,5),e&2){let u;p(u=f())&&(i.content=u)}},viewQuery:function(e,i){if(e&1&&g(Z,7),e&2){let r;p(r=f())&&(i.gridItemElement=r.first)}},inputs:{image:"image",video:"video",videoThumbnail:"videoThumbnail",showDefault:"showDefault",showTitle:"showTitle",showPublishDate:"showPublishDate"},decls:10,vars:11,consts:[["gridItem",""],["videoBlock",""],[1,"grid-item",3,"mouseenter","mouseleave","ngClass"],[3,"src","alt",4,"ngIf"],[3,"thumbnailDto",4,"ngIf","ngIfElse"],[1,"item-overlay",3,"ngClass"],[1,"item-text"],[4,"ngIf"],[3,"src","alt"],[3,"thumbnailDto"],[3,"data",4,"ngIf"],[3,"data"]],template:function(e,i){if(e&1){let r=T();d(0,"div",2,0),E("mouseenter",function(){return C(r),w(i.setHovered(!0))})("mouseleave",function(){return C(r),w(i.setHovered(!1))}),m(2,J,1,2,"img",3)(3,j,1,1,"video-container",4)(4,X,1,1,"ng-template",null,1,G),d(6,"div",5)(7,"div",6),m(8,$,2,1,"p",7)(9,ee,2,1,"p",7),c()()()}if(e&2){let r=V(5);o("ngClass",x(7,z,i.showDefault)),a(2),o("ngIf",i.image),a(),o("ngIf",i.videoThumbnail)("ngIfElse",r),a(3),o("ngClass",x(9,z,i.hovered)),a(2),o("ngIf",i.showTitle),a(),o("ngIf",i.showPublishDate)}},dependencies:[b,S,y,_],styles:['@font-face{font-family:Ronzino;src:url("./media/Ronzino-Regular-ME2GZO5T.otf") format("opentype");font-weight:400;font-style:normal}@font-face{font-family:ITC Avant Garde;src:url("./media/ITCAvantGardeStd-Md-UYAUUM6K.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Sinistre Dark;src:url("./media/Sinistre-Dark-2PMDKLG6.otf") format("opentype");font-weight:400;font-style:normal}@font-face{font-family:Necto Mono;src:url("./media/NectoMono-Regular-XKGTYPEF.otf") format("opentype");font-weight:400;font-style:normal}@font-face{font-family:Karrik Regular;src:url("./media/Karrik-Regular-FP5FJWRS.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Coconat Regular;src:url("./media/Coconat-Regular-ZJSD55EB.otf") format("opentype");font-weight:400;font-style:normal}@font-face{font-family:Nimbus Sans Regular;src:url("./media/NimbusSanL-Reg-EGQ5GAYN.otf") format("opentype");font-weight:400;font-style:normal}.loader[_ngcontent-%COMP%]{width:48px;height:48px;border:6px solid var(--fg-color, white);border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite,_ngcontent-%COMP%_fadeIn .3s ease forwards;position:absolute;z-index:10000;top:50%;left:50%;margin:-24px 0 0 -24px;opacity:0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}nav[_ngcontent-%COMP%]{border-right:1px dashed var(--fg-color, white);background-color:var(--bg-color, black);flex:.1;height:100vh;font-family:monospace;position:sticky;min-width:192px;color:var(--fg-color, white);top:0;left:0}nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{margin-top:1rem;margin-left:.5rem}.nav-top[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:10pt}.nav-top[_ngcontent-%COMP%]   .nav-top-l[_ngcontent-%COMP%]{flex:1;padding:.5rem}.nav-top[_ngcontent-%COMP%]   .nav-top-r[_ngcontent-%COMP%]{flex:0;padding:.5rem}.nav-top[_ngcontent-%COMP%]   .nav-top-r[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:bottom}.nav-top[_ngcontent-%COMP%]   .nav-top-r[_ngcontent-%COMP%]   i.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}main[_ngcontent-%COMP%]{flex:1}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#000;transition:background-color .3s ease;cursor:none!important;font-family:ITC Avant Garde,sans-serif;overscroll-behavior-y:none}*[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}*[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.blog-video[_ngcontent-%COMP%]{width:100%;height:auto;margin:auto;display:block;box-shadow:0 0 1rem #0000001a}.blog-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:auto;display:block}nav-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1000}.blog-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);gap:.5rem;height:fit-content;flex:1}.arrow-down[_ngcontent-%COMP%]{height:2rem;width:auto;position:fixed;bottom:2rem;left:50%;transform:translate(-50%);z-index:2;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;opacity:0;transition:opacity .3s ease}.arrow-down.show[_ngcontent-%COMP%]{opacity:1}.gradient[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;height:5rem;background:linear-gradient(to top,color-mix(in srgb,black,transparent 50%),color-mix(in srgb,black,transparent 100%));pointer-events:none;opacity:0;transition:opacity 1s ease;z-index:1}.gradient.show[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width: 768px){.grid-container[_ngcontent-%COMP%]{width:100%}}.grid-item[_ngcontent-%COMP%]{width:100%;height:auto;position:relative;transform:translateY(10%);transition:opacity .3s ease,transform .3s ease;opacity:0}.grid-item.show[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.grid-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;-webkit-user-drag:none;-webkit-user-select:none;user-select:none;display:block}.item-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:color-mix(in srgb,black 50%,transparent);opacity:0;transition:opacity .3s ease;box-sizing:border-box}.item-text[_ngcontent-%COMP%]{position:absolute;left:0;padding:1rem;bottom:0;color:#fff;font-family:Necto Mono,monospace}.item-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.item-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem}.item-overlay.show[_ngcontent-%COMP%]{opacity:1}.fa.fa-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(0);font-size:2rem;color:var(--fg-color, white);animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};export{N as a};
